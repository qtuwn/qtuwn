name: Validate Profile README

on:
  push:
    branches: [main]
  pull_request:
    branches: [main]
  workflow_dispatch:

jobs:
  validate:
    runs-on: ubuntu-latest
    name: Validate README and Assets
    
    steps:
      - name: üì• Checkout Repository
        uses: actions/checkout@v4

      - name: üìã Check README.md exists
        run: |
          if [ -f "README.md" ]; then
            echo "‚úÖ README.md found"
          else
            echo "‚ùå README.md not found"
            exit 1
          fi

      - name: üé® Check SVG assets exist
        run: |
          echo "Checking SVG assets..."
          
          if [ -f "svg/qtuwm.svg" ]; then
            echo "‚úÖ svg/qtuwm.svg found"
          else
            echo "‚ùå svg/qtuwm.svg not found"
            exit 1
          fi
          
          if [ -f "svg/qtuwm-quotes.svg" ]; then
            echo "‚úÖ svg/qtuwm-quotes.svg found"
          else
            echo "‚ùå svg/qtuwm-quotes.svg not found"
            exit 1
          fi

      - name: üìè Validate SVG files
        run: |
          echo "Validating SVG files are not empty..."
          
          for svg in svg/*.svg; do
            if [ -s "$svg" ]; then
              echo "‚úÖ $svg is valid ($(wc -c < "$svg") bytes)"
            else
              echo "‚ùå $svg is empty or invalid"
              exit 1
            fi
          done

      - name: üìù Check README content
        run: |
          echo "Checking README contains required sections..."
          
          # Check for essential sections
          if grep -q "About Me" README.md; then
            echo "‚úÖ About Me section found"
          else
            echo "‚ö†Ô∏è About Me section not found (optional)"
          fi
          
          if grep -q "Tech Stack" README.md || grep -q "üõ†" README.md; then
            echo "‚úÖ Tech Stack section found"
          else
            echo "‚ö†Ô∏è Tech Stack section not found (optional)"
          fi
          
          if grep -q "github-readme-stats" README.md; then
            echo "‚úÖ GitHub Stats found"
          else
            echo "‚ö†Ô∏è GitHub Stats not found (optional)"
          fi

      - name: ‚úÖ Validation Complete
        run: |
          echo "üéâ All validations passed!"
          echo "Profile README is ready to be displayed on GitHub."
